# XX药城 / XX药品交易所 / XX药网 验证码识别工具集

caozhiye 2018年2月26日

## 设计说明：

1. 基于Python 3.6， TensorFlow 1.50 开发。

## 代码目录

* `image_xxx`：用于训练的验证码图片数据，文件名以验证码名命名。
* `model_xxx`：训练生成的模型文件目录。
* `test_xxx`：用于计算模型准确度的验证码图片测试数据，建议和训练数据图片不同。
* `misc`：其他文件。
* `dl_pic_xxx.py`：访问验证码接口，通过人工打码保存验证码的工具。
* `train_xxx.py`：通过CNN模型深度学习验证码图片并保存模型的工具。
* `validate_xxx.py`：用于计算模型准确度的工具。

## 使用方法

1. （可选）运行`dl_pic_xxx.py`下载验证码，人工判断验证码并保存到`image_xxx`目录下。此步骤可以忽略，因为本工具包已收集足够验证码图片。如需重新收集验证码图片，建议收集不少于1000张图片文件。
2. 解压`image_xxx`下压缩包，将训练用的验证码图片释放到此文件夹下，并将`image_xxx.rar`暂时移出到其他目录。
3. （可选）使用train\_xxx.py，开始机器学习，并等待学习完成并保存模型文件。根据机器性能不同，需要等待3至N小时。本工具包已包含训练好的模型，故此步骤为可选。
4. 解压`test_xxx`下压缩包，将验证模型用的验证码图片释放到此文件夹下，并将`test_xxx.rar`暂时移出到其他目录。
5. 修改`validate_xxx.py`文件中`model_file_name`变量，确保模型文件名和你生成的模型文件名一致，运行并验证`test_xxx`目录下的文件并计算模型准确度。
6. 自动化工程中方法调用见`misc`目录下的`PredictCaptcha.py`文件。

## 更新记录：

* **2018-02-26**：优化代码并更新文档。
* **2018-02-08**：完成XX药网模型。
* **2015-02-01**：完成XX药城，XX药交所模型。
* **2018-01-15**：初始化版本。

